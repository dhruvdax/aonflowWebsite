{
  "entities": {
    "ContactFormSubmission": {
      "$schema": "http://json-schema.org/draft-07/schema#",
      "title": "ContactFormSubmission",
      "type": "object",
      "description": "Represents a user's submission through the contact form.",
      "properties": {
        "id": {
          "type": "string",
          "description": "Unique identifier for the contact form submission."
        },
        "name": {
          "type": "string",
          "description": "The name of the person submitting the form."
        },
        "workEmail": {
          "type": "string",
          "description": "The work email address of the person submitting the form.",
          "format": "email"
        },
        "companyName": {
          "type": "string",
          "description": "The name of the company of the person submitting the form."
        },
        "jobTitle": {
          "type": "string",
          "description": "The job title of the person submitting the form."
        },
        "phoneNumber": {
          "type": "string",
          "description": "The phone number of the person submitting the form."
        },
        "businessType": {
          "type": "string",
          "description": "The type of business selected by the person submitting the form."
        },
        "message": {
          "type": "string",
          "description": "The message entered by the person submitting the form."
        },
        "submissionDate": {
          "type": "string",
          "description": "The date and time when the form was submitted.",
          "format": "date-time"
        }
      },
      "required": [
        "id",
        "name",
        "workEmail",
        "companyName",
        "jobTitle",
        "phoneNumber",
        "businessType",
        "message",
        "submissionDate"
      ]
    }
  },
  "auth": {
    "providers": [
      "password",
      "anonymous"
    ]
  },
  "firestore": {
    "structure": [
      {
        "path": "/contact_form_submissions/{contactFormSubmissionId}",
        "definition": {
          "entityName": "ContactFormSubmission",
          "schema": {
            "$ref": "#/backend/entities/ContactFormSubmission"
          },
          "description": "Stores contact form submissions. Includes fields for name, email, company, job title, phone number, business type, message, and submission date. The document ID is auto-generated by Firestore.",
          "params": [
            {
              "name": "contactFormSubmissionId",
              "description": "The auto-generated unique ID of the contact form submission."
            }
          ]
        }
      }
    ],
    "reasoning": "Based on the requirement to store contact form submissions and forward them to 'contact@aonflow.com', the following Firestore structure is recommended. A single collection, `contact_form_submissions`, will store all submissions. Each document within this collection will represent a single form submission. The document ID will be automatically generated by Firestore. This structure ensures easy querying and management of submissions. Because the app needs to send an email on every submit, we will use a cloud function to trigger email sending to 'contact@aonflow.com' when a document is created in the `contact_form_submissions` collection. The collection is designed to be globally accessible for writing (any unauthenticated user should be able to submit) but restricted for reading (only authorized personnel via backend access with appropriate IAM roles can read). This approach avoids the need for complex authorization rules within Firestore.\n\nThis structure supports the QAP, as the segregation of contact form submissions into their own collection simplifies the application logic and security rules, minimizing the chances of misconfiguration."
  }
}